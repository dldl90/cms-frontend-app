[![Depfu](https://badges.depfu.com/badges/d7d81ce791dc6605ef5145a349796749/overview.svg)](https://depfu.com/repos/notonthehighstreet/cms-frontend?project_id=8185)

[![Depfu](https://badges.depfu.com/badges/d7d81ce791dc6605ef5145a349796749/count.svg)](https://depfu.com/repos/notonthehighstreet/cms-frontend?project_id=8185)

## INSTALL

```
yarn
```

or 

```
npm install
```

## SCRIPTS

- `clean` - Removes files generated by build
- `build` -  Builds Webpack production files for client
- `build:server` - Babel compiles the server.js file and minifies ready for production
- `dev` - Builds the app in development mode and starts the server using nodemon and webpack
- `test` - Runs unit test for the application
- `test:visual` - Runs the visual regression and takes the latest snapshots on QA and runs a test change snapshot against them to compare css changes.
- `test:visual:changed` - Re-runs the visual regression test changes.
- `test:visual:approval` - Accepts the approved changes of snapshots.


## Visual Regression

This app uses Backstop JS to run Visual Regression test on all Page Templates on the application. For more information on backstop.js: https://github.com/garris/BackstopJS

In order to use this plugin, install Backstop with the following:

```
npm install -g backstopjs
```


## Bits of knowledge

- SSR -- In order to achieve dynamic SSR fetching per component, you should add a property on the exported component object named `serverFetch`, This should be an action creator or thunk action. The exported function will be run on the server before being sent to the client. (example can be found in `./src/pages/Homepage/Homepage.js`)

- Linting -- This project uses AirBnb's style guide as it's base (https://github.com/airbnb/javascript)
